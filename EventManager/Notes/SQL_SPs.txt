CREATE PROCEDURE EVENTS_LAST_10_DAYS
AS
SELECT *
FROM [dbo].[Events]
WHERE DATEDIFF(DD, StartTime, GETDATE()) > 10
ORDER BY StartTime DESC


//

CREATE PROCEDURE EVENTS_LAST_6_MONTHS
AS
SELECT *
FROM [dbo].[Events]
WHERE DATEDIFF(MM, StartTime, GETDATE()) < 6
ORDER BY StartTime DESC

//

CREATE PROCEDURE USER_OWNED_EVENTS
@User Int
AS
SELECT *
FROM [dbo].[Events]
WHERE EnteredBy = @User
ORDER BY StartTime DESC

//

CREATE PROCEDURE AVAILABLE_EVENTS_BY_USERID
@UserID Int
AS SELECT *
FROM [dbo].[Events] t1
WHERE t1.StartTime > GetDATE() AND NOT EXISTS
	(SELECT *
	 FROM Registrations t2
	 WHERE t2.UserID = @UserID 
	 AND t2.EventID = t1.EventID)
ORDER BY [StartTime] DESC

//

CREATE TABLE [dbo].[LTRanks]
(
	[RankId] INT NOT NULL PRIMARY KEY, 
    [RankFullName] NCHAR(30) NOT NULL,
	[RankShort] NCHAR(10) NOT NULL,
	[PayGrade] NCHAR(5) NULL	
)
